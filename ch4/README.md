# 테스트 구축하기

## 4-1 자가 테스트 코드의 가치
프로그래머가 일하는 시간을 살펴보면 실제로 코드를 짜는 시간은 그렇게 길지 않다.  
대부분의 시간을 디버깅에 쓴다.

> 모든 테스트를 자동화하고 그 결과까지 검사하게 만들자.

테스트를 작성하기 가장 좋은 시간은 프로그래밍을 시작하기 전이다. 테스트를 작성하다 보면 원하는 기능을 추가하기 위해 무엇이 필요한지 고민하게 된다. 구현보다 인터페이스에 집중하게 된다. `테스트를 모두 통과한 그 순간이 바로 코드를 완성한 시점이다.`

## 4-2 Sample

```javascript

```

## 4-3 첫번째 테스트
```js
describe('province', () => {
    it ('shortfall', () => {
        const asia = new Province(sampleProvinceData())
        assert.equal(asia.shortfall, 5)
    })
})
```

> 실패할 상황에서는 반드시 실패하게 만들자.

> 자주 테스트하자. 하루 한 번은 전체 테스트를 돌리자.

## 4-4 테스트 추가하기
public 메서드를 빠짐없이 테스트하는 방식은 효율적이지 않다. 테스트는 `위험요인`을 중심으로 작성해야 한다. 단순 getter/setter는 테스트할 필요도 없다. 테스트를 너무 많이 작성하다보면 필요한 테스트를 놓치기 쉽기 때문에 아주 중요한 포인트다.

테스트 코드에서도 중복은 의심해봐야 한다.
> 세팅하는 건 beforeEach에서 하자


## 4-5 픽스처Fixture 수정하기

setup-exercise-verify, given-when-then, arrange-act-assert 등으로 부르는 이 패턴은 세 단계가 한 테스트 안에 모두 담겨 있을 수도 있고 초기 준비 작업 중 공통되는 부분을 beforeEach와 같은 표준 설정 루틴에 모아놓기도 한다.
it 구문 하나 당 하나만 검증하자.

## 4-6 경계 조건 검사하기

지금까지는 모든 일이 순조롭고, 사용자가 우리 의도대로만 행동하는 꽃길에 집중했다.
컬렉션이면 비었을 때, 숫자면 0일 때, 음수일 때, 문자열이면 비었을 때 등등의 상황도 테스트하자.

## 4-7 끝나지 않은 여정
> 버그 리포트를 받으면 가장 먼저 그 버그를 드러내는 단위 테스트를 작성하자.  

모든 사람들이 테스트를 얼마나 작성해야 좋을지 고민한다. 그 지표 중 하나로 많이 사용하는 테스트 커버리지는 테스트 하지 않은 영역을 찾는 데만 도움될 뿐, 테스트 스위트의 품질과는 크게 상관없다.
테스트를 너무 많이 작성할 가능성도 있다. 하지만 너무 많은 경우보다는 너무 적은 경우가 훨씬 많다.