# 12장(2)

## 12.6 타입코드를 서브클래스로 바꾸기

소프트웨어 시스템에서는 담당업무(엔지니어,관리자,영업자) 시급성(보통, 급함) 등과 같이 타입코드가 빈번하게 사용된다. 

보통은 타입코드로도 충분하게 표현될 수 있지만, 그 이상이 필요할 수  있다. 

그이상이란 

- 조건에 따라 다르게 동작해야 하는 경우 (다형성)
    - 예) 담당업무에 따른 월급이 다르다던가..
- 특정 타입에서만 의미가 있는 값을 사용하는 필드나 메서드가 있을때
    - 예) 판매목표는 '영업자'일때 의미가 있다
    

이럴때는 직접상속, 간접상속의 방법으로 타입코드를 서브클래스로 바꾸면 된다 ~!

## 12.7 서브클래스 제거하기

앞장과 반대의 경우

서브클래스는 원래 데이터구조에 파생된 데이터를 만들거나, 종류에 따라 동작이 달라지게 할 수 있는 유용한 메커니즘 → but, 소프트웨어가 성장함에따라 다른 모듈로 이동되거나 기능이 사라지기도 한다. 

더이상 쓰이지 않는 서브클래스와 마주하게 되면, 이해하느라 힘빼지 말고 슈퍼클래스와 합쳐버리자

## 12.8 슈퍼클래스 추출하기

비슷한 일을 하는 두클래스가 있다면, 비슷한 부분을 슈퍼클래스로 추출해라.

이러한 공통요소 추출은 

1) 클래스 추출하기 (위임)

2) 슈퍼클래스로 추출하기 (상속)

두가지가 있는데, 우선 슈퍼클래스로 추출하고 나중에 위임이 맞는 것 같으면 슈퍼클래스를 위임으로 바꾸는 건 어렵지 않다. (12.11의 내용)

## 12.9 계층 합치기

어떤 클래스와 그 부모클래스가 너무 비슷해진다면, 굳이 쪼개져 있을 필요가 없다. 

그럴때는 계층을 합친다. 

## 12.10 서브클래스를 위임으로 바꾸기

속한 갈래에 따라 달라지는 객체는 상속으로 표현하는게 자연스럽지만, 상속은 단점이 있다.

상속의 단점 : 

1) 

한번만 쓸 수 있는 카드이다. 무언가가 달라져야할 이유가 여러개 여도 상속에서는 그중 단 하나의 이유만 선택해 기준으로 삼는다. 

예시) 사람(나이대, 소득) - 

사람객체의 동작을 나이대, 소득에 따라 달리하고 싶다면, 서브클래스는 젊은이와 늙은이 or 부자와 서민 이렇게만 하나로만 표현이 됨. 둘다는 안됨 

2) 

부모를 수정하면 자식에 영향이 간다. 아주 긴밀한 결합도를 가지고 있다. 

⇒ 위임하는 방식은 두가지를 다 해결해 준다. 

상속보다 결합도가 훨씬 약하기 때문에, 서브클래스에 상속관련 문제가 생긴다면 위임하는 방식으로 바꾸자!!

## 12.11 슈퍼클래스를 위임으로 바꾸기

슈퍼클래스의 기능들이 서브클래스와 어울리지 않는다면, 그 기능들을 상속을 통해 이용하면 안된다는 신호이다.

예) 자바의 스택은 리스트를 상속하고 있는데, 리스트의 모든기능이 스택을 표현하지는 않는다. 그럼에도 리스트의 모든 기능이 스택 인터페이스에 그대로 노출되고 있다.

제대로 된 상속 : 서브클래스가 슈퍼클래스의 모든 기능을 사용함은 물론, 서브클래스의 인스턴스를 슈퍼클래스의 인스턴스로도 취급할 수 있어야한다. 

**⇒ 제대로된 상속이 아니라면, 위임을 이용하면 기능 일부만 빌려올 뿐인 서로 별개인 개념이 명확해진다.**

필자는 상속을 절대 사용하지말라 고 말하는 것이 아니다.  상속을 적절히 사용하다가 문제가 발생하면 위임으로 갈아타자 ~ 라고 말하고 있다.